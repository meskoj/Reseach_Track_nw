<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>assignment_2_2023: client.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">assignment_2_2023
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">client.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Client server for the simulation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;actionlib/client/simple_action_client.h&gt;</code><br />
<code>#include &lt;actionlib/client/terminal_state.h&gt;</code><br />
<code>#include &lt;assignment_2_2023/PlanningAction.h&gt;</code><br />
<code>#include &lt;nav_msgs/Odometry.h&gt;</code><br />
<code>#include &lt;assignment_2_2023/robotInfo.h&gt;</code><br />
<code>#include &lt;assignment_2_2023/robotInfoSrv.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for client.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="client_8cpp__incl.png" border="0" usemap="#client_8cpp" alt=""/></div>
<map name="client_8cpp" id="client_8cpp">
<area shape="rect" title="Client server for the simulation." alt="" coords="998,5,1083,32"/>
<area shape="rect" title=" " alt="" coords="5,87,84,114"/>
<area shape="rect" title=" " alt="" coords="108,80,275,121"/>
<area shape="rect" title=" " alt="" coords="299,80,476,121"/>
<area shape="rect" title=" " alt="" coords="500,80,712,121"/>
<area shape="rect" title=" " alt="" coords="736,87,903,114"/>
<area shape="rect" title=" " alt="" coords="927,87,1154,114"/>
<area shape="rect" title=" " alt="" coords="1179,80,1393,121"/>
<area shape="rect" title=" " alt="" coords="1418,87,1498,114"/>
<area shape="rect" title=" " alt="" coords="1523,87,1588,114"/>
<area shape="rect" title=" " alt="" coords="1613,87,1677,114"/>
<area shape="rect" title=" " alt="" coords="1701,87,1765,114"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ade64b529d481df36d56216e570ab4d08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8cpp.html#ade64b529d481df36d56216e570ab4d08">interface</a> ()</td></tr>
<tr class="separator:ade64b529d481df36d56216e570ab4d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa5fc62bcc988d7c23627d26cb1e32a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8cpp.html#afaa5fc62bcc988d7c23627d26cb1e32a">OdometryCallback</a> (const nav_msgs::Odometry::ConstPtr &amp;msg)</td></tr>
<tr class="separator:afaa5fc62bcc988d7c23627d26cb1e32a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top"><a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af88b946fb90d5f08b5fb740c70e98c10"><td class="memItemLeft" align="right" valign="top"><a id="af88b946fb90d5f08b5fb740c70e98c10"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8cpp.html#af88b946fb90d5f08b5fb740c70e98c10">x</a> = -10</td></tr>
<tr class="memdesc:af88b946fb90d5f08b5fb740c70e98c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value is assigned outside the acceptable range to trigger the while. <br /></td></tr>
<tr class="separator:af88b946fb90d5f08b5fb740c70e98c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab927965981178aa1fba979a37168db2a"><td class="memItemLeft" align="right" valign="top"><a id="ab927965981178aa1fba979a37168db2a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8cpp.html#ab927965981178aa1fba979a37168db2a">y</a> = -10</td></tr>
<tr class="memdesc:ab927965981178aa1fba979a37168db2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value is assigned outside the acceptable range to trigger the while. <br /></td></tr>
<tr class="separator:ab927965981178aa1fba979a37168db2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef71597b75543b85254ce26ae325ea6b"><td class="memItemLeft" align="right" valign="top"><a id="aef71597b75543b85254ce26ae325ea6b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>actual_x</b></td></tr>
<tr class="separator:aef71597b75543b85254ce26ae325ea6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bb7353a79624d6c866d11516663a49"><td class="memItemLeft" align="right" valign="top"><a id="af4bb7353a79624d6c866d11516663a49"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>actual_y</b></td></tr>
<tr class="separator:af4bb7353a79624d6c866d11516663a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8aa52fe8ffeeb496adf21f6682badd6"><td class="memItemLeft" align="right" valign="top"><a id="ae8aa52fe8ffeeb496adf21f6682badd6"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>actual_linear_x</b></td></tr>
<tr class="separator:ae8aa52fe8ffeeb496adf21f6682badd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815d439926902c2b978832adab728dca"><td class="memItemLeft" align="right" valign="top"><a id="a815d439926902c2b978832adab728dca"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>actual_angular_z</b></td></tr>
<tr class="separator:a815d439926902c2b978832adab728dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af287bc8596383f162b2b900a54c7ee4a"><td class="memItemLeft" align="right" valign="top"><a id="af287bc8596383f162b2b900a54c7ee4a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>cancel</b> = false</td></tr>
<tr class="separator:af287bc8596383f162b2b900a54c7ee4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9439512ed8bbf98d9ba64fee9ce3b234"><td class="memItemLeft" align="right" valign="top"><a id="a9439512ed8bbf98d9ba64fee9ce3b234"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>goalSent</b> = true</td></tr>
<tr class="separator:a9439512ed8bbf98d9ba64fee9ce3b234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41b3bb7df0fe4e3ca9ab0479ec38e52"><td class="memItemLeft" align="right" valign="top"><a id="ad41b3bb7df0fe4e3ca9ab0479ec38e52"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>exitProgram</b> = false</td></tr>
<tr class="separator:ad41b3bb7df0fe4e3ca9ab0479ec38e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b32162c2c635cd3941771c57fafe23"><td class="memItemLeft" align="right" valign="top"><a id="a45b32162c2c635cd3941771c57fafe23"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>published</b> = false</td></tr>
<tr class="separator:a45b32162c2c635cd3941771c57fafe23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78adf702859da303d3332b90d34e480"><td class="memItemLeft" align="right" valign="top"><a id="af78adf702859da303d3332b90d34e480"></a>
mutex&#160;</td><td class="memItemRight" valign="bottom"><b>dataMutex</b></td></tr>
<tr class="separator:af78adf702859da303d3332b90d34e480"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Client server for the simulation. </p>
<dl class="section author"><dt>Author</dt><dd>Marco Meschini </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.2 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>29/02/2024</dd></dl>
<p>Subscribes to:<br  />
 /odom <br  />
 Publish to:<br  />
 actual_info <br  />
 Description:<br  />
 this node implements an Action client using the ActionLib library from ROS. It is used to manage the interaction between the server and the user and to send the goal to the robot. The first part implements an interface to interact with the user and decide which action to perform. The possible actions are: set the target coordinates, cancel the actual target, or exit the program. The script is also responsible to retrieve the information about the actual position and velocity of the robot from the '/odom' topic. Then, it publishes them on the topic '/actual_info', making them accessible for other nodes within the system. Finally, it implements a service to provide the last coordinates set for the target. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ade64b529d481df36d56216e570ab4d08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade64b529d481df36d56216e570ab4d08">&#9670;&nbsp;</a></span>interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void interface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interface for the program</p>
<p>This function is used to create a graphical interface for the client and provide information about the program</p>

</div>
</div>
<a id="afaa5fc62bcc988d7c23627d26cb1e32a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaa5fc62bcc988d7c23627d26cb1e32a">&#9670;&nbsp;</a></span>OdometryCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OdometryCallback </td>
          <td>(</td>
          <td class="paramtype">const nav_msgs::Odometry::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get position and velocity from the msg in the /odom topic </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nav_msgs</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
